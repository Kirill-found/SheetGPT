# -*- coding: utf-8 -*-
# Strengthen format rules

with open('C:/Projects/SheetGPT/backend/app/services/simple_gpt_processor.py', 'r', encoding='utf-8') as f:
    content = f.read()

old_rules = '''КРИТИЧНО - ФОРМАТ explanation:
- ПЕРВАЯ СТРОКА = ПРЯМОЙ ОТВЕТ на вопрос
- Каждая запись на ОДНОЙ строке целиком!
- Формат записи: "Строка N: Товар, детали через запятую"
- ПРОБЕЛ после "Строка", ПРОБЕЛ после номера, ДВОЕТОЧИЕ
- НИКОГДА не разбивай одну запись на несколько строк!
- НЕ используй знак равно, пиши просто значения
- Пустая строка только между разделами'''

new_rules = '''КРИТИЧНО - ФОРМАТ explanation:
- ПЕРВАЯ СТРОКА = ПРЯМОЙ ОТВЕТ на вопрос
- Каждая запись на ОДНОЙ строке целиком!
- Формат: "Строка N: значение1, значение2, значение3"
- ВСЕГДА "Строка " + ПРОБЕЛ + номер + двоеточие + данные
- НИКОГДА не пиши "СтрокаПродукт" или "Строка5" - ВСЕГДА пробел!
- НЕ разбивай данные одной строки на несколько строк!
- НЕ используй = или ' - пиши просто значения через запятую
- Пустая строка только между разными категориями'''

content = content.replace(old_rules, new_rules)

with open('C:/Projects/SheetGPT/backend/app/services/simple_gpt_processor.py', 'w', encoding='utf-8') as f:
    f.write(content)

print('Fixed format rules')
